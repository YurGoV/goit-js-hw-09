{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAqBA,SAASC,EAAcC,EAAUC,GAE/B,IAAMC,EAAgBC,KAAKC,SAAW,GAGtC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACLN,GACJI,EAAQ,uBAAwCG,OAAfT,EAAS,QAAYS,OAANR,EAAM,OAEpDM,EAAK,sBAAqCE,OAAfT,EAAS,QAAYS,OAANR,EAAM,M,GACjDA,E,IAOP,SAASS,EAAUC,GACjBd,EAAAe,OAAOC,QAAQF,EACf,CACIG,cAAc,EACdd,SAAU,c,CAIhB,SAASe,EAAQJ,GACfd,EAAAe,OAAOI,QAAQL,EACf,CACIG,cAAc,EACdd,SAAU,c,CAjDMiB,SAASC,cAAc,QAE/BC,iBAAiB,UAE/B,SAAwBC,GACtBA,EAAMC,iBAON,IALA,IAEgBC,EAAZF,EAAMG,OADRC,SAAWvB,EAAKqB,EAALrB,MAAOwB,EAAIH,EAAJG,KAAMC,EAAMJ,EAANI,OAEtBC,EAAeC,OAAO3B,EAAM4B,OAEvBC,EAAI,EAAGA,GAAKF,OAAOF,EAAOG,OAAQC,GAAI,EAAG,CAChC/B,EAAc+B,EAAGH,GAAcI,KAAKrB,GAAWsB,MAAMjB,GACrEY,GAA8BC,OAAOH,EAAKI,M","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refDelayInput = document.querySelector('form');\n\nrefDelayInput.addEventListener('submit', onSubmitButton)\n\nfunction onSubmitButton(event) {\n  event.preventDefault();\n\n  const {\n    elements: {delay, step, amount}\n  } = event.target\n  let currentDelay = Number(delay.value);\n\n  for (let i = 1; i <= Number(amount.value); i +=1) {\n    const promise = createPromise(i, currentDelay).then(onSuccess).catch(onError);\n    currentDelay = currentDelay + Number(step.value);\n  };\n \n}\n\nfunction createPromise(position, delay) {\n\n  const shouldResolve = Math.random() > 0.3;\n  // console.log(shouldResolve);\n  \n  return new Promise((resolve, reject) => {   \n    setTimeout(() => {\n      if (shouldResolve) {\n      resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      }\n      reject(`❌ Rejected promise ${position} in ${delay}ms`);\n    }, delay);\n   \n  });\n}\n\n\n\nfunction onSuccess(result) {\n  Notify.success(result,\n  {\n      clickToClose: true,\n      position: 'center-top',\n  },);\n}\n\nfunction onError(result) {\n  Notify.failure(result,\n  {\n      clickToClose: true,\n      position: 'center-top',\n  },);\n}\n\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","concat","$ce04d3a99e08e73b$var$onSuccess","result","Notify","success","clickToClose","$ce04d3a99e08e73b$var$onError","failure","document","querySelector","addEventListener","event","preventDefault","_elements","target","elements","step","amount","currentDelay","Number","value","i","then","catch"],"version":3,"file":"03-promises.e883b076.js.map"}
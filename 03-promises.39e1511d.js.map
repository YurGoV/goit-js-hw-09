{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAgBC,SAASC,cAAc,QAiC7C,SAASC,EAAcC,EAAUC,GAC7BC,MAAMC,iBAGRC,QAAQC,IAAIJ,GACZ,IAAMK,EAAgBC,KAAKC,SAAW,GAGtC,OAFAJ,QAAQC,IAAIC,GAEL,IAAIG,SAAQ,SAACC,EAASC,GAE3BC,YAAW,WACLN,GACJI,EAAQ,uBAAwCG,OAAfb,EAAS,QAAYa,OAANZ,EAAM,OAEpDU,EAAK,sBAAqCE,OAAfb,EAAS,QAAYa,OAANZ,EAAM,M,GACjDA,E,IAWP,SAASa,EAAUC,GACjBX,QAAQC,IAAI,aACZX,EAAAsB,OAAOC,QAAQF,EACf,CACIG,cAAc,G,CAKpB,SAASC,EAAQJ,GACfX,QAAQC,IAAI,WACZX,EAAAsB,OAAOI,QAAQL,EACf,CACIG,cAAc,G,CArEpBd,QAAQC,IAAIT,GACZQ,QAAQC,IAAI,UAEZT,EAAcyB,iBAAiB,UAK/B,SAAwBnB,GACtBA,EAAMC,iBAQN,IANA,IAEgBmB,EAAZpB,EAAMqB,OADRC,SAAWvB,EAAKqB,EAALrB,MAAOwB,EAAIH,EAAJG,KAAMC,EAAMJ,EAANI,OAGtBC,EAAeC,OAAO3B,EAAM4B,OAEvBC,EAAI,EAAGA,GAAKF,OAAOF,EAAOG,OAAQC,GAAI,EAAG,CAChC/B,EAAc+B,EAAGH,GAAcI,KAAKjB,GAAWkB,MAAMb,GACrEQ,GAA8BC,OAAOH,EAAKI,OAE1CzB,QAAQC,IAAIsB,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refDelayInput = document.querySelector('form');\n\n\nconsole.log(refDelayInput);\nconsole.log('shshsh');\n\nrefDelayInput.addEventListener('submit', onSubmitButton)\n\n\n\n\nfunction onSubmitButton(event) {\n  event.preventDefault();\n  // console.log(event.target.value);\n  const {\n    elements: {delay, step, amount}\n  } = event.target\n  // console.log(delay.value);\n  let currentDelay = Number(delay.value);\n\n  for (let i = 1; i <= Number(amount.value); i +=1) {\n    const promise = createPromise(i, currentDelay).then(onSuccess).catch(onError);\n    currentDelay = currentDelay + Number(step.value);\n\n    console.log(currentDelay);\n  };\n  \n\n  \n}\n\n\n\nfunction createPromise(position, delay) {\n    event.preventDefault();\n\n\n  console.log(delay);\n  const shouldResolve = Math.random() > 0.3;\n  console.log(shouldResolve);\n  // const promise = new Promise((resolve, reject) => {\n  return new Promise((resolve, reject) => {   \n    // return new Promise((resolve, reject) => { \n    setTimeout(() => {\n      if (shouldResolve) {\n      resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      }\n      reject(`❌ Rejected promise ${position} in ${delay}ms`);\n    }, delay);\n   \n  });\n  // return promise;\n\n//promice fin\n\n}\n\n\n\nfunction onSuccess(result) {\n  console.log('onSuccess');\n  Notify.success(result,\n  {\n      clickToClose: true,\n      // position: 'center-top',\n  },);\n}\n\nfunction onError(result) {\n  console.log('onError');\n  Notify.failure(result,\n  {\n      clickToClose: true,\n      // position: 'center-top',\n  },);\n}\n\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$refDelayInput","document","querySelector","$ce04d3a99e08e73b$var$createPromise","position","delay","event","preventDefault","console","log","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","concat","$ce04d3a99e08e73b$var$onSuccess","result","Notify","success","clickToClose","$ce04d3a99e08e73b$var$onError","failure","addEventListener","_elements","target","elements","step","amount","currentDelay","Number","value","i","then","catch"],"version":3,"file":"03-promises.39e1511d.js.map"}
{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAqBA,SAASC,EAAcC,EAAUC,GAE/B,MAAMC,EAAgBC,KAAKC,SAAW,GAGtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACLN,GACJI,EAAQ,uBAAqBN,QAAiBC,OAE5CM,EAAK,sBAAoBP,QAAeC,MAAU,GACnDA,EAAM,G,CAOb,SAASQ,EAAUC,GACjBb,EAAAc,OAAOC,QAAQF,EACf,CACIG,cAAc,EACdb,SAAU,c,CAIhB,SAASc,EAAQJ,GACfb,EAAAc,OAAOI,QAAQL,EACf,CACIG,cAAc,EACdb,SAAU,c,CAjDMgB,SAASC,cAAc,QAE/BC,iBAAiB,UAE/B,SAAwBC,GACtBA,EAAMC,iBAEN,MACEC,UAAUpB,MAACA,EAAKqB,KAAEA,EAAIC,OAAEA,IACtBJ,EAAMK,OACV,IAAIC,EAAeC,OAAOzB,EAAM0B,OAEhC,IAAK,IAAIC,EAAI,EAAGA,GAAKF,OAAOH,EAAOI,OAAQC,GAAI,EAAG,CAChC7B,EAAc6B,EAAGH,GAAcI,KAAKpB,GAAWqB,MAAMhB,GACrEW,GAA8BC,OAAOJ,EAAKK,M","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refDelayInput = document.querySelector('form');\n\nrefDelayInput.addEventListener('submit', onSubmitButton)\n\nfunction onSubmitButton(event) {\n  event.preventDefault();\n\n  const {\n    elements: {delay, step, amount}\n  } = event.target\n  let currentDelay = Number(delay.value);\n\n  for (let i = 1; i <= Number(amount.value); i +=1) {\n    const promise = createPromise(i, currentDelay).then(onSuccess).catch(onError);\n    currentDelay = currentDelay + Number(step.value);\n  };\n \n}\n\nfunction createPromise(position, delay) {\n\n  const shouldResolve = Math.random() > 0.3;\n  // console.log(shouldResolve);\n  \n  return new Promise((resolve, reject) => {   \n    setTimeout(() => {\n      if (shouldResolve) {\n      resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      }\n      reject(`❌ Rejected promise ${position} in ${delay}ms`);\n    }, delay);\n   \n  });\n}\n\n\n\nfunction onSuccess(result) {\n  Notify.success(result,\n  {\n      clickToClose: true,\n      position: 'center-top',\n  },);\n}\n\nfunction onError(result) {\n  Notify.failure(result,\n  {\n      clickToClose: true,\n      position: 'center-top',\n  },);\n}\n\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","$47d4ff9957288465$var$onSuccess","result","Notify","success","clickToClose","$47d4ff9957288465$var$onError","failure","document","querySelector","addEventListener","event","preventDefault","elements","step","amount","target","currentDelay","Number","value","i","then","catch"],"version":3,"file":"03-promises.ae289ab2.js.map"}
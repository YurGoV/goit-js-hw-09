{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAgBC,SAASC,cAAc,QAwB7C,SAASC,EAAcC,EAAUC,GAC7BC,MAAMC,iBAGRC,QAAQC,IAAIJ,GACZ,MAAMK,EAAgBC,KAAKC,SAAW,GAGtC,OAFAJ,QAAQC,IAAIC,GAEL,IAAIG,SAAQ,CAACC,EAASC,KAE3BC,YAAW,KACLN,GACJI,EAAQ,uBAAqBV,QAAiBC,OAE5CU,EAAK,sBAAoBX,QAAeC,MAAU,GACnDA,EAAM,G,CAWb,SAASY,EAAUC,GACjBV,QAAQC,IAAI,aACZX,EAAAqB,OAAOC,QAAQF,EACf,CACIG,cAAc,EACdjB,SAAU,c,CAIhB,SAASkB,EAAQJ,GACfV,QAAQC,IAAI,WACZX,EAAAqB,OAAOI,QAAQL,EACf,CACIG,cAAc,EACdjB,SAAU,c,CA9DhBI,QAAQC,IAAIT,GAEZA,EAAcwB,iBAAiB,UAE/B,SAAwBlB,GACtBA,EAAMC,iBAEN,MACEkB,UAAUpB,MAACA,EAAKqB,KAAEA,EAAIC,OAAEA,IACtBrB,EAAMsB,OAEV,IAAIC,EAAeC,OAAOzB,EAAM0B,OAEhC,IAAK,IAAIC,EAAI,EAAGA,GAAKF,OAAOH,EAAOI,OAAQC,GAAI,EAAG,CAChC7B,EAAc6B,EAAGH,GAAcI,KAAKhB,GAAWiB,MAAMZ,GACrEO,GAA8BC,OAAOJ,EAAKK,OAE1CvB,QAAQC,IAAIoB,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refDelayInput = document.querySelector('form');\n\nconsole.log(refDelayInput);\n\nrefDelayInput.addEventListener('submit', onSubmitButton)\n\nfunction onSubmitButton(event) {\n  event.preventDefault();\n  // console.log(event.target.value);\n  const {\n    elements: {delay, step, amount}\n  } = event.target\n  // console.log(delay.value);\n  let currentDelay = Number(delay.value);\n\n  for (let i = 1; i <= Number(amount.value); i +=1) {\n    const promise = createPromise(i, currentDelay).then(onSuccess).catch(onError);\n    currentDelay = currentDelay + Number(step.value);\n\n    console.log(currentDelay);\n  };\n \n}\n\nfunction createPromise(position, delay) {\n    event.preventDefault();\n\n\n  console.log(delay);\n  const shouldResolve = Math.random() > 0.3;\n  console.log(shouldResolve);\n  // const promise = new Promise((resolve, reject) => {\n  return new Promise((resolve, reject) => {   \n    // return new Promise((resolve, reject) => { \n    setTimeout(() => {\n      if (shouldResolve) {\n      resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      }\n      reject(`❌ Rejected promise ${position} in ${delay}ms`);\n    }, delay);\n   \n  });\n  // return promise;\n\n//promice fin\n\n}\n\n\n\nfunction onSuccess(result) {\n  console.log('onSuccess');\n  Notify.success(result,\n  {\n      clickToClose: true,\n      position: 'center-top',\n  },);\n}\n\nfunction onError(result) {\n  console.log('onError');\n  Notify.failure(result,\n  {\n      clickToClose: true,\n      position: 'center-top',\n  },);\n}\n\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$refDelayInput","document","querySelector","$47d4ff9957288465$var$createPromise","position","delay","event","preventDefault","console","log","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","$47d4ff9957288465$var$onSuccess","result","Notify","success","clickToClose","$47d4ff9957288465$var$onError","failure","addEventListener","elements","step","amount","target","currentDelay","Number","value","i","then","catch"],"version":3,"file":"03-promises.e7c1646a.js.map"}